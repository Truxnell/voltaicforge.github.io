<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.16.4 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Fridgementer | VoltaicForge</title>
<meta name="description" content="Why a fermenter fridge?">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_GB">
<meta property="og:site_name" content="VoltaicForge">
<meta property="og:title" content="Fridgementer">
<meta property="og:url" content="https://voltaicforge.com/projects/homebrew/fridgementer/">


  <meta property="og:description" content="Why a fermenter fridge?">



  <meta property="og:image" content="https://voltaicforge.com/assets/images/homebrew_fermenter.png">



  <meta name="twitter:site" content="@voltaicforge">
  <meta name="twitter:title" content="Fridgementer">
  <meta name="twitter:description" content="Why a fermenter fridge?">
  <meta name="twitter:url" content="https://voltaicforge.com/projects/homebrew/fridgementer/">

  
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://voltaicforge.com/assets/images/homebrew_fermenter.png">
  

  



  <meta property="article:published_time" content="2019-06-29T00:39:10+10:00">





  

  


<link rel="canonical" href="https://voltaicforge.com/projects/homebrew/fridgementer/">







  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Nat Allan",
      "url": "https://voltaicforge.com",
      "sameAs": ["https://twitter.com/voltaicforge"]
    }
  </script>



  <meta name="google-site-verification" content="iK_FoY5mh80PyafnPtAX6YOOtXL8eQ3Z8MqGBnTqK60" />


  <meta name="msvalidate.01" content="81692DABF6D3A748A99701D5182C57AB">


  <meta name="alexaVerifyID" content="mQysQJJ0XzBFJy5Y0GfkGmRIc_8">


  <meta name="yandex-verification" content="41039ce397f24d4e">


<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="VoltaicForge Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">VoltaicForge</a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/year-archive/" >Posts</a>
            </li><li class="masthead__menu-item">
              <a href="/projects/" >Projects</a>
            </li><li class="masthead__menu-item">
              <a href="/guides/" >Guides</a>
            </li><li class="masthead__menu-item">
              <a href="/about/" >About</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle Menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      
  











<div class="page__hero--overlay"
  style=" background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('/assets/images/homebrew_fermenter.png');"
>
  
    <div class="wrapper">
      <h1 id="page-title" class="page__title" itemprop="headline">
        
          Fridgementer

        
      </h1>
      
        <p class="page__lead"><h1 id="why-a-fermenter-fridge">Why a fermenter fridge?</h1>

</p>
      
      
      
      
    </div>
  
  
</div>





<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
  </ul>
</nav>
    
  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Fridgementer">
    <meta itemprop="description" content="Why a fermenter fridge?">
    <meta itemprop="datePublished" content="June 29, 2019">
    

    <div class="page__inner-wrap">
      

      <section class="page__content" itemprop="text">
        
        <h1 id="why-a-fermenter-fridge">Why a fermenter fridge?</h1>

<p>I always wanted to build a fermenter fridge for my homebrewing.  I brewed for nearly 2 years, with a variety of methods for controlling the temperature of the fermenting wort that weren’t great.</p>

<p>Beer fermenter are usually big plastic buckets which hold 10-23 liters of ready to be brewed beer (called wort).  Once the perpetration part of the beer making process is complete, the wort is poured into a fermenter, and yeast is added.</p>

<p>However, yeast is a fickle organism and requires a consistent temperature it’s happy with to ferment properly (amongst other things).  Variations in temperature put the yeast under stress, and can make it produce ‘off flavours’.  As such, controlling the temperature of the fermenter is important, and is one of the easiest improvements that can be made to a beginners beer making process.</p>

<p>Whilst in Hobart, I used a large bucket of water with an aquarium heater to control temperatures of the fermenter.  This worked OK as it was generally fairly cold down there, and I only required to keep it heated to around the right temperature.</p>

<p>In Melbourne however, its harder to control fermentation temperature as the temperatures are warmer.  You need to start considering cooling it when it gets to warm, and then warming it when it gets too cold.</p>

<p>The general gold standard for this process is converting a fridge or freezer into a temperature controlled chamber.  Using a temperature probe and a temperature controller like the STC-100, which can turn on the fridge when the beer is higher than a set temperature, or turn on a heating device inside the fridge when its too cold.</p>

<p>This is perfectly fine, but a solution is available that panders to the Linux-loving, electronics dork that I am - the <a href="https://www.brewpi.com/">BrewPi</a> project.  This provides the ability to hack a fridge to control heating/cooling as required, but also uses PID<sup id="fnref:PID"><a href="#fn:PID" class="footnote">1</a></sup> to keep the fermentation temperature extremely accurate, whilst providing the ability to have temperature profiles and a web interface.</p>

<h1 id="parts">Parts</h1>

<table>
  <thead>
    <tr>
      <th>Part</th>
      <th>Source</th>
      <th>Price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Pi Zero W</td>
      <td>Ebay</td>
      <td>$37.95</td>
    </tr>
    <tr>
      <td>Duinotech Classic (Arduino Uno clone)</td>
      <td>Jaycar</td>
      <td>$29.95</td>
    </tr>
    <tr>
      <td>Inkbird 40A SSR (x2)</td>
      <td>Ebay</td>
      <td>$21.98</td>
    </tr>
    <tr>
      <td>DS18B20 Temperature Sensors (x5)</td>
      <td>Ebay</td>
      <td>$14.90</td>
    </tr>
    <tr>
      <td>Micro Usb-B Male to Usb Female</td>
      <td>Spare</td>
      <td>Free</td>
    </tr>
    <tr>
      <td>Fridge</td>
      <td>Ebay</td>
      <td>$120</td>
    </tr>
    <tr>
      <td>4 core wire</td>
      <td>Jaycar (WB1590)</td>
      <td>$2</td>
    </tr>
    <tr>
      <td>Mic Panel Connector Male</td>
      <td>Jaycar (PP2010)</td>
      <td>$6</td>
    </tr>
    <tr>
      <td>Mic Panel Connector Female</td>
      <td>Jaycar (PS2012)</td>
      <td>$6</td>
    </tr>
  </tbody>
</table>

<p><strong>Note</strong>: Only need 2-3 sensors, but packs of 5 are common</p>

<h1 id="install-brewpi">Install BrewPi</h1>

<h2 id="install-raspbain-to-pi">Install Raspbain to Pi</h2>

<p>Download and install <a href="https://www.raspberrypi.org/downloads/raspbian/">Raspbian</a> to a SD card.  I won’t cover this as there is a million tutorials on the net for this.  Offical installation instructions <a href="https://www.raspberrypi.org/documentation/installation/installing-images/README.md">here</a></p>

<p>I use the Cinnamon Disk Image Writer under Linux, or <code class="highlighter-rouge">dd</code> under a terminal.  Under Windows <a href="https://sourceforge.net/projects/win32diskimager/">Win32DiskImager</a></p>

<p class="text-center"><a href="/assets/images/raspbian_install.png"><picture>
    <source srcset="https://voltaicforge.com/assets/images/resize/raspbian_install-801by745-038ad5.png" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 2.0), (min-width: 40em) and (min-resolution: 192dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/raspbian_install-801by745-038ad5.png" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 40em) and (min-resolution: 144dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/raspbian_install-600by558-038ad5.png" media="(min-width: 40em)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/raspbian_install-801by745-038ad5.png" media="(-webkit-min-device-pixel-ratio: 2.0), (min-resolution: 192dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/raspbian_install-801by745-038ad5.png" media="(-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/raspbian_install-600by558-038ad5.png" />
    <img src="https://voltaicforge.com/assets/images/resize/raspbian_install-600by558-038ad5.png" alt=" Installing Raspbian using Cinnamon Disk Image Writer " title=" Installing Raspbian using Cinnamon Disk Image Writer " />
  </picture>
</a></p>

<h2 id="setup-wifi">Setup Wifi</h2>

<p>As I am using a Raspberry Pi W which has built in WiFi, I want to setup Wifi out of the box.  Thankfully, you can setup Wifi directly into the SD card before you even fire it up, meaning you can skip the tedium of having to plug it into Ethernet, SSH into it, setup Wifi, then move it to it’s headless loaction.</p>

<p>To do this, ensure the SD card with your fresh copy of Raspbian is plugged in and mounted.  Go into the boot partition and create a file called <code class="highlighter-rouge">wpa_supplicant.conf</code>.  This file is referenced in the <code class="highlighter-rouge">/etc/network/interfaces</code> file, meaning you can enter the credentials into this <code class="highlighter-rouge">wpa_supplicant.conf</code> file and it will automatically use them on boot.</p>

<p>In this file, enter the following lines, ensuring to replace the <code class="highlighter-rouge">ssid</code> and <code class="highlighter-rouge">psk</code> variables with your own Wifi’s SSID and WPA password.</p>

<p><em>wpa_supplicant.conf</em></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>network={
    ssid="SSID"
    psk="password"
    key_mgmt=WPA-PSK
}
</code></pre></div></div>
<h2 id="enable-ssh">Enable SSH</h2>

<p>Currently, SSH is disabled by default on a fresh Raspbian install, which is a good security measure.  However, we will want this enabled to connect to our headless device.</p>

<p>Simply create a new file on the boot partition named <code class="highlighter-rouge">ssh</code>.  This will ensure SSH is enabled when you boot up.</p>

<p class="text-center"><a href="/assets/images/setup_wifi_ssh_raspi_filebrowser.png "><picture>
    <source srcset="https://voltaicforge.com/assets/images/resize/setup_wifi_ssh_raspi_filebrowser-862by679-7ae913.png" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 2.0), (min-width: 40em) and (min-resolution: 192dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/setup_wifi_ssh_raspi_filebrowser-862by679-7ae913.png" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 40em) and (min-resolution: 144dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/setup_wifi_ssh_raspi_filebrowser-600by473-7ae913.png" media="(min-width: 40em)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/setup_wifi_ssh_raspi_filebrowser-862by679-7ae913.png" media="(-webkit-min-device-pixel-ratio: 2.0), (min-resolution: 192dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/setup_wifi_ssh_raspi_filebrowser-862by679-7ae913.png" media="(-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/setup_wifi_ssh_raspi_filebrowser-600by473-7ae913.png" />
    <img src="https://voltaicforge.com/assets/images/resize/setup_wifi_ssh_raspi_filebrowser-600by473-7ae913.png" alt=" Files for Wifi and SSH enabling in Raspi zero W boot folder " title=" Files for Wifi and SSH enabling in Raspi zero W boot folder " />
  </picture>
</a></p>

<h2 id="log-into-the-pi">Log into the PI</h2>

<p>Unmount the SD card, plug it into your Pi, and power it on via the usb power cable (or GPIO if thats your plan).</p>

<p>After it finishes booting you will be able to SSH into it via <code class="highlighter-rouge">ssh pi@raspi-ip-address</code> or using <a href="http://www.putty.org/">PuTTY</a> for Windows.  You could check your Router’s DHCP lease to find its IP, or try using <code class="highlighter-rouge">raspi</code>.  We will give it a static IP address in a subsequent section.</p>

<p class="text-center"><a href="/assets/images/raspi_zero_w.jpg "><picture>
    <source srcset="https://voltaicforge.com/assets/images/resize/raspi_zero_w-1200by1526-f5e6b5.jpg" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 2.0), (min-width: 40em) and (min-resolution: 192dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/raspi_zero_w-900by1144-f5e6b5.jpg" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 40em) and (min-resolution: 144dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/raspi_zero_w-600by763-f5e6b5.jpg" media="(min-width: 40em)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/raspi_zero_w-1200by1526-f5e6b5.jpg" media="(-webkit-min-device-pixel-ratio: 2.0), (min-resolution: 192dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/raspi_zero_w-900by1144-f5e6b5.jpg" media="(-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/raspi_zero_w-600by763-f5e6b5.jpg" />
    <img src="https://voltaicforge.com/assets/images/resize/raspi_zero_w-600by763-f5e6b5.jpg" alt=" Rasberry Pi Zero W " title=" Rasberry Pi Zero W " />
  </picture>
</a></p>

<h2 id="update-system">Update system</h2>

<p>Now to update the Rasbian OS to latest, to ensure we are up to date.  Always update a fresh Linux OS as soon as you boot it, even if its a fresh download!</p>

<p><code class="highlighter-rouge">sudo apt update &amp;&amp; sudo apt dist-upgrade</code></p>

<p class="text-center"><a href="/assets/images/raspi_apt_update_apt_dist-upgrade.png "><picture>
    <source srcset="https://voltaicforge.com/assets/images/resize/raspi_apt_update_apt_dist-upgrade-915by681-46b521.png" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 2.0), (min-width: 40em) and (min-resolution: 192dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/raspi_apt_update_apt_dist-upgrade-900by670-46b521.png" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 40em) and (min-resolution: 144dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/raspi_apt_update_apt_dist-upgrade-600by447-46b521.png" media="(min-width: 40em)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/raspi_apt_update_apt_dist-upgrade-915by681-46b521.png" media="(-webkit-min-device-pixel-ratio: 2.0), (min-resolution: 192dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/raspi_apt_update_apt_dist-upgrade-900by670-46b521.png" media="(-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/raspi_apt_update_apt_dist-upgrade-600by447-46b521.png" />
    <img src="https://voltaicforge.com/assets/images/resize/raspi_apt_update_apt_dist-upgrade-600by447-46b521.png" alt="Updating a Raspberry Pi with sudo apt update &amp;&amp; sudo apt dist-upgrade. " title="Updating a Raspberry Pi with sudo apt update &amp;&amp; sudo apt dist-upgrade. " />
  </picture>
</a></p>

<h2 id="set-static-wlan-ip-optional">Set static Wlan IP (Optional)</h2>

<p>This is an optional step, however currently the Pi is setup for DHCP, and the address may change.  This may be frustrating if you want to open it up to the outside world or want to ensure your bookmark for it stays the same.  You may prefer to use your router’s DHCP system to give it a static reservation instead of the below.</p>

<p>If you wish to proceed and force the Pi to have a static IP that doesn’t change., edit the <code class="highlighter-rouge">/etc/network/interfaces</code> file to change the correct <code class="highlighter-rouge">iface</code> line to static, and give it static details as below.</p>

<p>To ensure you get the right wlan entry if you have multiple entries, you can use <code class="highlighter-rouge">ifconfig</code> to see which wlan is being used.</p>

<p>Replace the line <code class="highlighter-rouge">iface wlan0 inet manual</code> with the below details, substituting the IP’s with your desired static address (in the address line) and the correct netmask and gateway for your network.  It’s best to pick a IP outside your router’s DHCP range if possible to avoid potential conflicts.</p>

<p>Open the <code class="highlighter-rouge">/etc/network/interfaces</code> file, with <code class="highlighter-rouge">sudo nano /etc/network/interfaces</code>.</p>

<p><em>/etc/network/interfaces</em></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>iface wlan0 inet static
    address 192.168.2.200
    netmask 255.255.255.0
    gateway 192.168.2.254
</code></pre></div></div>

<p>For example, my full <code class="highlighter-rouge">interfaces</code> file is as follows.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># interfaces(5) file used by ifup(8) and ifdown(8)

# Please note that this file is written to be used with dhcpcd
# For static IP, consult /etc/dhcpcd.conf and 'man dhcpcd.conf'

# Include files from /etc/network/interfaces.d:
source-directory /etc/network/interfaces.d

auto lo
iface lo inet loopback

iface eth0 inet manual

allow-hotplug wlan0
iface wlan0 inet static
    address 192.168.2.200
    netmask 255.255.255.0
    gateway 192.168.2.254
    wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf

allow-hotplug wlan1
iface wlan1 inet manual
    wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf
</code></pre></div></div>

<h2 id="change-pi-password-optional-recommended">Change Pi password (Optional, Recommended)</h2>

<p>Next, change the Pi’s default password to a new one.  With a default password and SSH enabled, the Pi is less secure and potentially a victim to automated hacking attemps utilizing default password tables.  Changing the password is one step that absolutely should be done on any Pi regardless of use, as well as any system that ships with a default password.</p>

<p>To change it, simply run <code class="highlighter-rouge">passwd</code> and enter the default password <code class="highlighter-rouge">raspberry</code> and your new password.</p>

<p class="text-center"><a href="/assets/images/raspi_ssh_passwd.png "><picture>
    <source srcset="https://voltaicforge.com/assets/images/resize/raspi_ssh_passwd-1090by548-8ae8af.png" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 2.0), (min-width: 40em) and (min-resolution: 192dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/raspi_ssh_passwd-900by452-8ae8af.png" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 40em) and (min-resolution: 144dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/raspi_ssh_passwd-600by302-8ae8af.png" media="(min-width: 40em)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/raspi_ssh_passwd-1090by548-8ae8af.png" media="(-webkit-min-device-pixel-ratio: 2.0), (min-resolution: 192dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/raspi_ssh_passwd-900by452-8ae8af.png" media="(-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/raspi_ssh_passwd-600by302-8ae8af.png" />
    <img src="https://voltaicforge.com/assets/images/resize/raspi_ssh_passwd-600by302-8ae8af.png" alt=" Raspberry Pi login to SSH and use PASSWD to change default password for security " title=" Raspberry Pi login to SSH and use PASSWD to change default password for security " />
  </picture>
</a></p>

<h3 id="setup-ssh-passkey--disable-password-access-optional-recommended">Setup SSH passkey &amp; disable password access (Optional, Recommended)</h3>

<p>It is best to secure SSH using a passkey, and then setup the Pi to accept a login using it.</p>

<p>I wont rehash how to create one here, as there are ample guides on the net for creating one locally.  Note these guides are run on your <em>local</em> computer, not the Pi!</p>

<p><strong>Linux / Mac</strong>
(https://www.digitalocean.com/community/tutorials/how-to-use-ssh-keys-with-digitalocean-droplets)</p>

<p><strong>Windows</strong>
(https://www.digitalocean.com/community/tutorials/how-to-use-ssh-keys-with-putty-on-digitalocean-droplets-windows-users)</p>

<p>Then the next step is to get the passkey onto the Pi.</p>

<p><strong>Windows</strong></p>

<p>Log into the Pi with PuTTY, and then execute</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mkdir -p ~/.ssh
cd ~/.ssh
sudo nano ~/.ssh/authorized_keys
</code></pre></div></div>

<p>Then copy the passkey from your <code class="highlighter-rouge">.pub</code> file from your local comptuer into the Pi’s remote Putty window direct into <code class="highlighter-rouge">nano</code>.</p>

<p><strong>Linux/Mac</strong>
From your local computer</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh-copy-id pi@raspi-ip-address
</code></pre></div></div>
<p>If using mac, you may need to install <code class="highlighter-rouge">ssh-cop[y-id</code> using Homebrew <code class="highlighter-rouge">brew install ssh-copy-id</code>.</p>

<p class="text-center"><a href="/assets/images/ssh-copy-id.png "><picture>
    <source srcset="https://voltaicforge.com/assets/images/resize/ssh-copy-id-1200by188-658fa8.png" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 2.0), (min-width: 40em) and (min-resolution: 192dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/ssh-copy-id-900by141-658fa8.png" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 40em) and (min-resolution: 144dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/ssh-copy-id-600by94-658fa8.png" media="(min-width: 40em)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/ssh-copy-id-1200by188-658fa8.png" media="(-webkit-min-device-pixel-ratio: 2.0), (min-resolution: 192dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/ssh-copy-id-900by141-658fa8.png" media="(-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/ssh-copy-id-600by94-658fa8.png" />
    <img src="https://voltaicforge.com/assets/images/resize/ssh-copy-id-600by94-658fa8.png" alt=" Using SSH-COPY-ID to copy a ssh key onto a remote server " title=" Using SSH-COPY-ID to copy a ssh key onto a remote server " />
  </picture>
</a></p>

<p>You will now be able to log into the Raspi without using a password.</p>

<p>Once you confirm that it is working, disable SSH password autentication into the PI</p>

<p>On the Pi, modify the <code class="highlighter-rouge">/etc/sshd/ssh-config</code> file.  There will be an entry for password authentication already there.  Simply remove the comment and change the ‘yes’ to ‘no’.</p>

<p><em>/etc/ssh/ssh_config</em>
Change the line <code class="highlighter-rouge">#   PasswordAuthentication yes</code> to <code class="highlighter-rouge">PasswordAuthentication no</code></p>

<p class="text-center"><img src="https://voltaicforge.com/assets/images/sshd_disable_pasword_authentication.gif" alt="Animation of disabling SSH password autentication" /></p>

<h3 id="setup-fail2ban-security">Setup fail2ban (security)</h3>

<ul>
  <li>only if using password ssh!</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install fail2ban

sudo nano /etc/fail2ban/jail.local

[ssh]

enabled = true
port = ssh
filter = sshd
logpath = /var/log/auth.log
bantime = 900
banaction = iptables-allports
findtime = 900
maxretry = 3
</code></pre></div></div>

<h2 id="unattended-upgrades-security">Unattended upgrades (security)</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install unattended-upgrades

sudo nano /etc/apt/apt.conf.d/50unattended-upgrades

add:
"o=Raspbian,n=jessie,l=Raspbian-Security";

</code></pre></div></div>

<p>file example</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Unattended-Upgrade::Origins-Pattern {
// Codename based matching:
// This will follow the migration of a release through different
// archives (e.g. from testing to stable and later oldstable).
"o=Raspbian,n=jessie,l=Raspbian-Security";

// Archive or Suite based matching:
// Note that this will silently match a different release after
// migration to the specified archive (e.g. testing becomes the
// new stable).
// "o=Raspbian,a=stable";

};


</code></pre></div></div>

<h1 id="installing-brewpi-onto-raspbian">Installing BrewPi onto Raspbian</h1>

<h2 id="change-hostname">Change hostname</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo nano /etc/hosts

---replace

127.0.1.1	raspberrypi

with 

127.0.1.1   brewpi
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo nano /etc/hostname

replace with brewpi

sudo nano /etc/init.d/hostname.sh

sudo reboot
</code></pre></div></div>

<p>might be reboot before hostname.sh?</p>

<h2 id="install-brewpi-1">Install brewpi</h2>

<p>Instructions from http://docs.brewpi.com/en/latest/index.html
Always check install scripts!</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install git

git clone https://github.com/BrewPi/brewpi-tools.git ~/brewpi-tools

sudo ~/brewpi-tools/install.sh

sudo ~/brewpi-tools/updater.py --ask

`select legacy branch

</code></pre></div></div>

<p class="text-center"><a href="/assets/images/brewpi_webui_startup.png "><picture>
    <source srcset="https://voltaicforge.com/assets/images/resize/brewpi_webui_startup-1200by1145-6915aa.png" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 2.0), (min-width: 40em) and (min-resolution: 192dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/brewpi_webui_startup-900by859-6915aa.png" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 40em) and (min-resolution: 144dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/brewpi_webui_startup-600by573-6915aa.png" media="(min-width: 40em)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/brewpi_webui_startup-1200by1145-6915aa.png" media="(-webkit-min-device-pixel-ratio: 2.0), (min-resolution: 192dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/brewpi_webui_startup-900by859-6915aa.png" media="(-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/brewpi_webui_startup-600by573-6915aa.png" />
    <img src="https://voltaicforge.com/assets/images/resize/brewpi_webui_startup-600by573-6915aa.png" alt=" BrewPI's defauly WebUI " title=" BrewPI's defauly WebUI " />
  </picture>
</a></p>

<h2 id="reboot">Reboot</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo reboot
</code></pre></div></div>

<h2 id="linux-add-to-sshconfig-file">(Linux) Add to .ssh/config file</h2>

<p>For neatness</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nano .ssh/config


+++
host brewpi
 hostname 192.168.2.200
 port 22
 user pi

</code></pre></div></div>

<h2 id="flash-hex">flash hex</h2>

<p>latest legacy : https://github.com/BrewPi/firmware/releases/tag/0.2.10</p>

<p>may need to <code class="highlighter-rouge">sudo echo 'E\n' &gt; /dev/ttyACM0</code> before it will run
also may need to <code class="highlighter-rouge">sudo apt-get install arduino-core</code></p>

<p class="text-center"><a href="/assets/images/brewpi_program_legacy_arduino.png "><picture>
    <source srcset="https://voltaicforge.com/assets/images/resize/brewpi_program_legacy_arduino-1200by898-53384e.png" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 2.0), (min-width: 40em) and (min-resolution: 192dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/brewpi_program_legacy_arduino-900by673-53384e.png" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 40em) and (min-resolution: 144dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/brewpi_program_legacy_arduino-600by449-53384e.png" media="(min-width: 40em)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/brewpi_program_legacy_arduino-1200by898-53384e.png" media="(-webkit-min-device-pixel-ratio: 2.0), (min-resolution: 192dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/brewpi_program_legacy_arduino-900by673-53384e.png" media="(-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)" />
    <source srcset="https://voltaicforge.com/assets/images/resize/brewpi_program_legacy_arduino-600by449-53384e.png" />
    <img src="https://voltaicforge.com/assets/images/resize/brewpi_program_legacy_arduino-600by449-53384e.png" alt=" Programming a Arduino with a legacy brewpi version " title=" Programming a Arduino with a legacy brewpi version " />
  </picture>
</a></p>

<div class="footnotes">
  <ol>
    <li id="fn:PID">
      <p>‘proportional–integral–derivative’, a method of using a control loop feedback to learn how a system reacts to keep a setpoint constant. <a href="#fnref:PID" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

        
      </section>

      <footer class="page__meta">
        
        


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2019-06-29T00:39:10+10:00">June 29, 2019</time></p>
        
      </footer>

      

      
    </div>

    
  </article>

  
  
</div>

    </div>

    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2019 Nat Allan. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.8.2/js/all.js" integrity="sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH" crossorigin="anonymous"></script>







  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-77173080-1']);
  
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>








  </body>
</html>
